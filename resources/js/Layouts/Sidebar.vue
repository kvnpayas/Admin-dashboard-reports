<script setup>
import { router } from '@inertiajs/vue3'
import { ref } from 'vue';
import { on, emit } from '../eventBus';

const id = ref('')
const message = ref('')
const selectedFunction = ref(null)

const logout = () => {
  router.post('/logout');
}

on('logoutFunction', () => {
  logout()
})

</script>
<template>
  <div
    class=" min-h-screen  bg-main flex flex-col dark:bg-main">
    <div class="p-2 border-b-2 border-light min-h-9">
      <Link href="/" class="flex ">
      <!-- <img src="/public/img/tei-logo-no-name.png" alt="My Image" style="height: 2.25rem;" /> -->
      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 414 308" style="height: 2.3rem; width: 2.85rem;">
        <path
          d="M0 0 C26.73 0 53.46 0 81 0 C81 27.72 81 55.44 81 84 C96.84 84 112.68 84 129 84 C129 104.79 129 125.58 129 147 C113.16 147 97.32 147 81 147 C81.12010436 159.04406477 81.12010436 159.04406477 81.2578125 171.08789062 C81.31794082 176.00557511 81.37608024 180.92322287 81.421875 185.84106445 C81.45895801 189.80935284 81.50537779 193.77743553 81.55806351 197.74554634 C81.57648597 199.25363084 81.59163792 200.76175922 81.60334396 202.26991081 C81.36634645 217.64052583 81.36634645 217.64052583 88 231 C92.97236817 235.53998833 97.76571781 236.83039623 104.43359375 236.56640625 C113.62371935 235.10685728 122.40241271 231.4614269 131 228 C130.85997559 227.11658936 130.71995117 226.23317871 130.57568359 225.32299805 C129.12104716 215.44857608 128.59930819 205.78744697 128.625 195.8125 C128.62521149 195.04852905 128.62542297 194.28455811 128.62564087 193.49743652 C128.65929956 181.27502392 129.56379055 169.79097015 133 158 C133.27287842 157.00613281 133.27287842 157.00613281 133.55126953 155.9921875 C140.77365396 130.07163714 157.10764836 105.662947 180.56640625 91.89453125 C205.54846184 78.11034813 236.09436247 73.3231585 263.9375 81.03515625 C281.10395479 86.20442912 294.7621646 95.56687785 303.4675293 111.453125 C311.97981666 128.41815722 312.87845941 149.92185551 307.1796875 167.8828125 C300.34476342 185.94330724 284.80249583 197.88192581 267.875 206.0625 C251.03378691 213.5474836 230.52502771 219.4042137 212 219 C215.00139858 226.63169689 218.37723898 231.57611948 226 235 C253.6657559 243.33132836 281.01084513 228.46513711 305.41943359 216.94921875 C307.00618896 216.20285156 307.00618896 216.20285156 308.625 215.44140625 C309.56601562 214.99482666 310.50703125 214.54824707 311.4765625 214.08813477 C314 213 314 213 318 212 C318 169.76 318 127.52 318 84 C331.344375 83.979375 344.68875 83.95875 358.4375 83.9375 C364.76699829 83.92384399 364.76699829 83.92384399 371.22436523 83.90991211 C376.3614502 83.90539551 376.3614502 83.90539551 378.76332092 83.90455627 C380.44744633 83.90301671 382.1315706 83.89949153 383.81568909 83.89442444 C386.36078824 83.88714708 388.9058198 83.88609258 391.45092773 83.88647461 C392.20616698 83.8828765 392.96140623 83.87927839 393.73953152 83.87557125 C398.88597366 83.88597366 398.88597366 83.88597366 400 85 C400.09660952 86.92361627 400.12187168 88.85083066 400.12025452 90.77687073 C400.12231651 92.65949615 400.12231651 92.65949615 400.12442017 94.58015442 C400.12088055 95.98385644 400.11724574 97.38755822 400.11352539 98.79125977 C400.11324353 100.25936888 400.11340124 101.72747813 400.1139679 103.19558716 C400.1142559 107.19334657 400.10835874 111.19107624 400.10139394 115.18882871 C400.09516085 119.36220733 400.09455664 123.53558656 400.09336853 127.70896912 C400.09025508 135.61732792 400.08204151 143.52567297 400.07201904 151.4340257 C400.06085832 160.43508494 400.05534756 169.43614482 400.05032361 178.43720925 C400.03985891 196.95814731 400.0222592 215.47907255 400 234 C400.99 234.33 401.98 234.66 403 235 C402.01 235 401.02 235 400 235 C400 252.82 400 270.64 400 289 C401.98 289 403.96 289 406 289 C406 289.33 406 289.66 406 290 C400.83532957 291.705306 396.21933651 292.28056493 390.76977539 292.22705078 C389.97871399 292.22734283 389.18765259 292.22763489 388.37261963 292.22793579 C385.78085013 292.22655226 383.18937498 292.21103755 380.59765625 292.1953125 C378.79162249 292.19157889 376.98558669 292.18873356 375.17955017 292.18673706 C370.44325088 292.17912801 365.7070757 292.15950312 360.9708252 292.1373291 C356.13095783 292.11681172 351.29107027 292.10772277 346.45117188 292.09765625 C336.96738482 292.0762545 327.48372219 292.04109476 318 292 C318 286.39 318 280.78 318 275 C315.793125 275.99 313.58625 276.98 311.3125 278 C282.08369547 290.89088943 254.73265555 298.26116572 222.6875 298.0625 C221.2532568 298.05746757 219.81901185 298.05290779 218.38476562 298.04882812 C214.92314002 298.03797759 211.46158178 298.0208124 208 298 C208 297.34 208 296.68 208 296 C207.12214844 295.99613281 207.12214844 295.99613281 206.2265625 295.9921875 C191.20608528 295.31558943 173.66154687 288.9476091 162.48828125 278.6953125 C160.12734477 276.74630666 160.12734477 276.74630666 157.28125 276.9921875 C152.84620672 278.35437936 148.71950556 280.20786402 144.5 282.125 C109.41264828 297.59205221 70.84738865 304.60457945 34 291 C20.6805894 285.38668011 10.73332097 274.07562777 5.09765625 260.9921875 C0.81019004 249.30464617 -0.16087255 237.22021146 -0.12025452 224.87594604 C-0.12110894 223.90776699 -0.12196337 222.93958794 -0.12284368 221.94207013 C-0.12447961 218.7255209 -0.11900826 215.50902482 -0.11352539 212.29248047 C-0.11324309 209.97576397 -0.1134021 207.65904738 -0.1139679 205.34233093 C-0.11425418 199.07245403 -0.10838478 192.80259635 -0.10139394 186.5327239 C-0.09513224 179.97308036 -0.09455437 173.41343635 -0.09336853 166.85379028 C-0.09078257 155.85011462 -0.08437468 144.84644567 -0.07543945 133.84277344 C-0.06624905 122.51302119 -0.05917619 111.18327085 -0.05493164 99.85351562 C-0.05466892 99.1541989 -0.05440619 98.45488217 -0.05413551 97.73437403 C-0.05283039 94.22582364 -0.05156671 90.71727324 -0.05032361 87.20872283 C-0.03997057 58.1391432 -0.02154284 29.06957375 0 0 Z M216 142 C215.31421875 142.77730469 214.6284375 143.55460938 213.921875 144.35546875 C208.33645617 152.04109588 207.33379579 161.76566936 208 171 C218.87256343 170.19462493 228.32929077 166.18413864 235.75 158.0625 C239.76631091 153.24824652 241.61341453 149.4771171 241.35546875 143.00390625 C240.864627 140.23685331 239.83726643 138.10734392 237.87890625 136.08203125 C229.49591551 131.25440457 221.59527357 135.42555356 216 142 Z "
          fill="#FB4F15" transform="translate(8,7)" />
        <path
          d="M0 0 C8.80307184 6.9733636 12.82286159 14.19021258 15.0625 25.25 C16.31757224 36.19986494 14.24337934 45.32927613 7.625 54.1875 C-0.87131657 64.27911651 -11.00168941 68.06948258 -23.9375 69.25 C-35.53007192 70.17977966 -47.36479814 66.59964311 -56.25 59.125 C-63.56376406 52.17922407 -67.01124111 44.08974446 -67.33154297 34.12744141 C-67.48588582 24.12984 -66.93543787 16.65264107 -60.9375 8.25 C-60.25300781 7.2290625 -60.25300781 7.2290625 -59.5546875 6.1875 C-45.86890486 -11.95593756 -17.42528183 -11.92997732 0 0 Z "
          fill="#FB5016" transform="translate(392.9375,15.75)" />
        <path
          d="M0 0 C13.344375 -0.020625 26.68875 -0.04125 40.4375 -0.0625 C46.76699829 -0.07615601 46.76699829 -0.07615601 53.22436523 -0.09008789 C58.3614502 -0.09460449 58.3614502 -0.09460449 60.76332092 -0.09544373 C62.44744633 -0.09698329 64.1315706 -0.10050847 65.81568909 -0.10557556 C68.36078824 -0.11285292 70.9058198 -0.11390742 73.45092773 -0.11352539 C74.20616698 -0.1171235 74.96140623 -0.12072161 75.73953152 -0.12442875 C80.88597366 -0.11402634 80.88597366 -0.11402634 82 1 C82.09660952 2.92361627 82.12187168 4.85083066 82.12025452 6.77687073 C82.12231651 8.65949615 82.12231651 8.65949615 82.12442017 10.58015442 C82.12088055 11.98385644 82.11724574 13.38755822 82.11352539 14.79125977 C82.11324353 16.25936888 82.11340124 17.72747813 82.1139679 19.19558716 C82.1142559 23.19334657 82.10835874 27.19107624 82.10139394 31.18882871 C82.09516085 35.36220733 82.09455664 39.53558656 82.09336853 43.70896912 C82.09025508 51.61732792 82.08204151 59.52567297 82.07201904 67.4340257 C82.06085832 76.43508494 82.05534756 85.43614482 82.05032361 94.43720925 C82.03985891 112.95814731 82.0222592 131.47907255 82 150 C82.99 150.33 83.98 150.66 85 151 C84.01 151 83.02 151 82 151 C82 168.82 82 186.64 82 205 C83.98 205 85.96 205 88 205 C88 205.33 88 205.66 88 206 C82.83532957 207.705306 78.21933651 208.28056493 72.76977539 208.22705078 C71.97871399 208.22734283 71.18765259 208.22763489 70.37261963 208.22793579 C67.78085013 208.22655226 65.18937498 208.21103755 62.59765625 208.1953125 C60.79162249 208.19157889 58.98558669 208.18873356 57.17955017 208.18673706 C52.44325088 208.17912801 47.7070757 208.15950312 42.9708252 208.1373291 C38.13095783 208.11681172 33.29107027 208.10772277 28.45117188 208.09765625 C18.96739361 208.07625452 9.48370716 208.04215172 0 208 C0 207.67 0 207.34 0 207 C26.4 207 52.8 207 80 207 C80 139.02 80 71.04 80 1 C53.93 1 27.86 1 1 1 C1 42.58 1 84.16 1 127 C0.67 127 0.34 127 0 127 C0 85.09 0 43.18 0 0 Z "
          fill="#F98458" transform="translate(326,91)" />
        <path
          d="M0 0 C0.66 0.33 1.32 0.66 2 1 C1.01 2.485 1.01 2.485 0 4 C-1.32 4 -2.64 4 -4 4 C-4.268125 5.134375 -4.53625 6.26875 -4.8125 7.4375 C-5.204375 8.613125 -5.59625 9.78875 -6 11 C-6.99 11.33 -7.98 11.66 -9 12 C-10.32 11.01 -11.64 10.02 -13 9 C-8.71 6.03 -4.42 3.06 0 0 Z "
          fill="#F85923" transform="translate(190,98)" />
      </svg>
      <span class="pt-4 px-2 text-sm text-light font-extrabold uppercase">Dashboard</span>
      </Link>
    </div>
    <div class="mt-10">
      <label class="text-accent font-extrabold uppercase px-4 text-xs">Menu</label>
      <ul class="text-light font-extrabold mt-4 ml-2">
        <li class="px-4 hover:text-secondary" :class="{'border-l-2 border-secondary text-secondary': $page.url == '/'}">
          <Link href="/">
          <span class="">Dashboard</span>
          </Link>
        </li>
      </ul>
    </div>
    <div class="mt-10">
      <label class="text-accent font-extrabold uppercase px-4 text-xs">Settings</label>
      <ul class="text-light font-extrabold mt-4 ml-2 space-y-5">
        <li v-if="$page.props.auth.user.group == 'Admin'" class="px-4 hover:text-secondary" :class="{'border-l-2 border-secondary text-secondary': $page.url == '/user-maintenance'}">
          <Link href="/user-maintenance">
          <span class="">User Maintenance</span>
          </Link>
        </li>
        <li v-if="$page.props.auth.user.group == 'Admin'" class="px-4 hover:text-secondary" :class="{'border-l-2 border-secondary text-secondary': $page.url == '/group-maintenance'}">
          <Link href="/group-maintenance">
          <span class="">Group Maintenance</span>
          </Link>
        </li>
        <li class="px-4 hover:text-secondary" :class="{'border-l-2 border-secondary text-secondary': $page.url == '/dashboard-customizer'}">
          <Link href="/dashboard-customizer">
          <span class="">Custom Report Dashboard</span>
          </Link>
        </li>
      </ul>
    </div>
    <div class="mt-auto border-t-2 border-light p-2 text-center">
      <!-- <form @submit.prevent="logout"> -->
      <button type="submit"
        @click="emit('confirmModal', 'logoutModal', 'Are you sure you want to logout in the system?', 'logoutFunction')">
        <span class="uppercase text-xs font-extrabold text-light" hover>
          <v-icon name="md-logout" scale="0.8"></v-icon>
          Logout
        </span>
      </button>
      <!-- </form> -->
    </div>
  </div>
  <Confirmation />
</template>